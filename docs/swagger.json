{"openapi":"3.0.0","info":{"title":"Sistema de calificaciones","version":"1.0.0","description":"API para el sistema de calificaciones con sistema de opcion multiple"},"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}},"schemas":{"answerUpdate":{"type":"object","properties":{"opcion":{"type":"number","description":"contenido de la respuesta"},"iscorrect":{"type":"boolean","description":"valor de la respuesta correcta o incorrecta"}},"required":["opcion","iscorrect"],"example":{"answer":"Domingo","iscorrect":true}},"form":{"type":"object","properties":{"estudianteId":{"type":"number","description":"id del estudiante"},"answers":{"type":"array","itmes":{"type":"number","description":"id de la respuesta"}}},"required":["estudianteId","answers"],"example":{"estudianteId":1,"answers":[1,5,9,13]}},"question":{"type":"object","properties":{"question":{"type":"string","description":"Nombre de la pregunta"},"options":{"type":"array","items":{"$ref":"#/components/schemas/option"}}},"required":["question","options"],"example":{"question":"Pregunta 1","options":[{"opcion":"Opcion 1","iscorrect":true},{"opcion":"Opcion 2","iscorrect":false},{"opcion":"Opcion 3","iscorrect":false},{"opcion":"Opcion 4","iscorrect":false}]}},"option":{"type":"object","properties":{"opcion":{"type":"string","description":"Nombre de la opcion"},"state":{"type":"boolean","description":"Estado de la opcion"}},"required":["name","state"],"example":[{"name":"Opcion 1","state":true}]},"questionUpdate":{"type":"object","properties":{"question":{"type":"string","description":"Nombre de la pregunta"}},"required":["name"],"example":{"question":"¿que dia es el 31 de diciembre?"}},"role":{"type":"object","properties":{"name":{"type":"string","description":"nombre del rol"}},"required":["name"],"example":{"name":"Administrador"}},"typeDocument":{"type":"object","properties":{"name":{"type":"string","description":"nombre del tipo de documento"}},"required":["name"],"example":{"name":"Cedula de ciudadania"}},"user":{"type":"object","properties":{"firstName":{"type":"string","description":"Primer nombre del usuario"},"secondName":{"type":"string","description":"Segundo nombre del usuario"},"surname":{"type":"string","description":"Primer apellido del usuario"},"secondSurName":{"type":"string","description":"Segundo apellido del usuario"},"typeDocument":{"type":"number","description":"tipo de documeto del usuario"},"documentNumber":{"type":"string","description":"numero de documeto del usuario"},"email":{"type":"string","description":"email del usuario"},"phone":{"type":"string","description":"numero de telefono del usuario"},"role":{"type":"number","description":"id del ril del usuario"},"password":{"type":"string","description":"clave del usuario"},"state":{"type":"boolean","description":"esatado del usaurio activo o inactivo"}},"required":["firstName","secondName","surname","secondSurName","typeDocument","documentNumber","email","phone","rol","password","state"],"example":{"firstName":"Pepitp","secondName":"pepe","surname":"Perez","secondSurName":"Perez","typeDocument":1,"documentNumber":123000001,"email":"pepito@gmail.com","phone":32123122314,"rol":1,"password":"passAdmin","state":true}},"login":{"type":"object","properties":{"email":{"type":"string","description":"email del usuario"},"password":{"type":"string","description":"clave del usuario"}},"required":["email","password"],"example":{"email":"pepito@gmail.com","password":"passAdmin"}},"userUpdate":{"type":"object","properties":{"firstName":{"type":"string","description":"Primer nombre del usuario"},"secondName":{"type":"string","description":"Segundo nombre del usuario"},"surname":{"type":"string","description":"Primer apellido del usuario"},"secondSurName":{"type":"string","description":"Segundo apellido del usuario"},"typeDocument":{"type":"number","description":"tipo de documeto del usuario"},"documentNumber":{"type":"string","description":"numero de documeto del usuario"},"email":{"type":"string","description":"email del usuario"},"phone":{"type":"string","description":"numero de telefono del usuario"}},"required":["firstName","secondName","surname","secondSurName","typeDocument","documentNumber","email","phone"],"example":{"firstName":"daniel","secondName":"Jose","surname":"cruz","secondSurName":"casallaz","typeDocument":1,"documentNumber":123456789,"email":"danielJ@gmail.com","phone":32123122314}}}},"paths":{"/api/v1/questions/getOptions/{id}":{"get":{"tags":["Answers"],"security":[{"bearerAuth":[]}],"description":"Obtener opciones de una pregunta","produces":["application/json"],"parameters":[{"name":"id","in":"path","description":"id de la pregunta","required":true,"type":"number"}],"responses":{"200":{"description":"Petición exitosa","content":{"application/json":{"schema":{"$ref":"#/definitions/Answer"},"example":{"status":true,"message":"Listado de opciones","options":[{"id":102,"option":"jueves"},{"id":103,"option":"lunes"},{"id":104,"option":"sabado"},{"id":101,"option":"viernes"}]}}}},"400":{"description":"Petición fallida","content":{"application/json":{"example":{"state":false,"message":"Error al obtener las respuestas"}}}}}}},"/api/v1/questions/updateAnswer/{id}":{"put":{"tags":["Answers"],"security":[{"bearerAuth":[]}],"description":"Actualizar respuesta","produces":["application/json"],"parameters":[{"name":"id","in":"path","description":"id de la respuesta","required":true,"type":"number"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/answerUpdate"}}}},"responses":{"200":{"description":"Petición exitosa","content":{"application/json":{"schema":{"$ref":"#/definitions/Answer"},"example":{"state":true,"message":"opcion Editada con exito"}}}},"404":{"description":"Petición fallida","content":{"application/json":{"example":{"state":false,"message":"Error al editar la opcion"}}}}}}},"/api/v1/form/postquestions":{"post":{"tags":["Form"],"security":[{"bearerAuth":[]}],"description":"Crea un formulario","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/form"}}}},"responses":{"200":{"description":"Formulario creado","content":{"application/json":{"schema":{"type":"object","properties":{"state":{"type":"boolean"},"message":{"type":"string"}}},"example":{"status":true,"message":"Respuestas almacenadas con exito"}}}},"400":{"description":"Error al crear el formulario","content":{"application/json":{"schema":{"type":"object","properties":{"state":{"type":"boolean"},"mensaje":{"type":"string"}}},"example":{"status":false,"message":"No se pudieron almacenar las respuestas"}}}}}}},"/api/v1/form/getquestions":{"get":{"tags":["Form"],"security":[{"bearerAuth":[]}],"description":"Obtiene un formulario","produces":["application/json"],"responses":{"200":{"description":"Formulario obtenido","content":{"application/json":{"schema":{"$ref":"#/definitions/Form"},"example":{"state":true,"questions":[{"question":"¿que dia fue el 21 de febrero?","id":27,"options":[{"id":105,"option":"martes"},{"id":106,"option":"jueves"},{"id":107,"option":"lunes"},{"id":108,"option":"sabado"}]},{"question":"¿que dia fue el 21 de febrero?","id":30,"options":[{"id":117,"option":"martes"},{"id":118,"option":"jueves"},{"id":119,"option":"lunes"},{"id":120,"option":"sabado"}]}]}}}},"400":{"description":"Error al obtener el formulario","content":{"application/json":{"schema":{"type":"object","properties":{"state":{"type":"boolean"},"mensaje":{"type":"string"}}},"example":{"state":false,"message":"Error al obtener el listado"}}}}}}},"/api/v1/questions/create":{"post":{"tags":["Questions"],"security":[{"bearerAuth":[]}],"description":"Crear preguntas","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/question"}}}},"responses":{"200":{"description":"Pregunta creada correctamente","content":{"application/json":{"schema":{"$ref":"#/definitions/Question"},"example":{"state":true,"message":"Pregunta creada exitosamente"}}}},"400":{"description":"Error en la petición","content":{"application/json":{"schema":{"type":"object","properties":{"state":{"type":"boolean"},"mensaje":{"type":"string"}}},"example":{"state":false,"message":"Error al crear la pregunta"}}}}}}},"/api/v1/questions/deleteQuestion/{id}":{"delete":{"tags":["Questions"],"security":[{"bearerAuth":[]}],"description":"Eliminar pregunta","produces":["application/json"],"parameters":[{"name":"id","in":"path","description":"id de la pregunta","required":true,"type":"number"}],"responses":{"200":{"description":"Petición exitosa","content":{"application/json":{"schema":{"$ref":"#/definitions/Question"},"example":{"state":true,"message":"Pregunta Eliminada con exito"}}}},"400":{"description":"Petición fallida","content":{"application/json":{"example":{"state":false,"error":"Error al eliminar la pregunta"}}}}}}},"/api/v1/questions/getQuestions":{"get":{"tags":["Questions"],"security":[{"bearerAuth":[]}],"description":"Obtener preguntas","produces":["application/json"],"responses":{"200":{"description":"Petición exitosa","content":{"application/json":{"schema":{"$ref":"#/definitions/Question"},"example":{"state":true,"questions":[{"question":"¿que dia fue el 21 de febrero?","id":27},{"question":"¿que dia fue el 21 de febrero?","id":28},{"question":"¿que dia fue el 21 de febrero?","id":29}]}}}},"400":{"description":"Petición fallida","content":{"application/json":{"example":{"state":false,"message":"Error al listar las preguntas"}}}}}}},"/api/v1/questions/updateQuestion/{id}":{"put":{"tags":["Questions"],"security":[{"bearerAuth":[]}],"description":"Actualizar pregunta","produces":["application/json"],"parameters":[{"name":"id","in":"path","description":"id de la pregunta","required":true,"type":"number"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/questionUpdate"}}}},"responses":{"200":{"description":"Petición exitosa","content":{"application/json":{"schema":{"$ref":"#/definitions/Question"},"example":{"state":true,"message":"Pregunta Editada con exito"}}}},"400":{"description":"Petición fallida","content":{"application/json":{"example":{"state":false,"message":"Error al editar la pregunta"}}}}}}},"/api/v1/roles/create":{"post":{"tags":["Roles"],"security":[{"bearerAuth":[]}],"description":"Crear roles","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/role"}}}},"responses":{"200":{"description":"Rol creado correctamente","content":{"application/json":{"schema":{"$ref":"#/definitions/Role"},"example":{"status":true,"message":"Rol creado con exito"}}}},"400":{"description":"Error en la petición","content":{"application/json":{"schema":{"type":"object","properties":{"state":{"type":"boolean"},"mensaje":{"type":"string"}}},"example":{"status":false,"message":"No se pudo crear el rol"}}}}}}},"/api/v1/roles/getRoles":{"get":{"tags":["Roles"],"security":[{"bearerAuth":[]}],"description":"Obtener roles","responses":{"200":{"description":"Roles obtenidos correctamente","content":{"application/json":{"schema":{"$ref":"#/definitions/Roles"},"example":{"status":true,"message":"Roles obtenidos con exito","roles":[{"id":1,"name":"admin"},{"id":2,"name":"user"},{"id":39,"name":"Administrador"}]}}}},"400":{"description":"Error en la petición","content":{"application/json":{"schema":{"type":"object","properties":{"state":{"type":"boolean"},"mensaje":{"type":"string"}}},"example":{"status":false,"message":"No se pudieron obtener los roles"}}}}}}},"/api/v1/typeDocumets/create":{"post":{"tags":["TypeDocuments"],"security":[{"bearerAuth":[]}],"description":"Crear tipo de documento","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/typeDocument"}}}},"responses":{"200":{"description":"Tipo de documento creado correctamente","content":{"application/json":{"schema":{"$ref":"#/definitions/TypeDocument"},"example":{"status":true,"message":"Tipo de documento creado con exito"}}}},"400":{"description":"Error en la petición","content":{"application/json":{"schema":{"type":"object","properties":{"state":{"type":"boolean"},"mensaje":{"type":"string"}}},"example":{"status":false,"message":"No se pudo crear el tipo de documento"}}}}}}},"/api/v1/typeDocumets/getTypes":{"get":{"tags":["TypeDocuments"],"security":[{"bearerAuth":[]}],"description":"Obtener tipos de documentos","produces":["application/json"],"responses":{"200":{"description":"Tipos de documentos obtenidos correctamente","content":{"application/json":{"schema":{"$ref":"#/definitions/TypeDocument"},"example":{"status":true,"message":"Tipos de documentos obtenidos con exito","typesDocuments":[{"id":1,"name":"cedula de ciudadania"},{"id":2,"name":"cedula de extranjeria"},{"id":3,"name":"pasaporte"},{"id":4,"name":"tarjeta de identidad"}]}}}},"400":{"description":"Error en la petición","content":{"application/json":{"schema":{"type":"object","properties":{"state":{"type":"boolean"},"mensaje":{"type":"string"}}},"example":{"status":false,"message":"No se pudieron obtener los tipos de documentos"}}}}}}},"/api/v1/user/create":{"post":{"tags":["Users"],"security":[],"description":"Registrar usuarios","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/user"}}}},"responses":{"200":{"description":"Usuario creado correctamente","content":{"application/json":{"schema":{"$ref":"#/definitions/User"},"example":{"state":true,"message":"Estudiante creado correctamente"}}}},"400":{"description":"Error en la petición","content":{"application/json":{"schema":{"type":"object","properties":{"state":{"type":"boolean"},"mensaje":{"type":"string"}}},"example":{"state":false,"message":"Fallo en la creación del estudiante"}}}}}}},"/api/v1/user/getUser/{id}":{"get":{"tags":["Users"],"security":[{"bearerAuth":[]}],"description":"Obtener usuario","produces":["application/json"],"parameters":[{"name":"id","in":"path","description":"id del usuario","required":true,"type":"number"}],"responses":{"200":{"description":"Petición exitosa","content":{"application/json":{"schema":{"$ref":"#/definitions/User"},"example":{"firstName":"daniel","secondName":"Jose","surname":"cruz","secondSurName":"casallaz","typeDocument":1,"documentNumber":"123456789","email":"danielJ@gmail.com","phone":"32123122314"}}}},"400":{"description":"Petición fallida","content":{"application/json":{"example":{"state":false,"message":"No se pudo obtener el usuario"}}}}}}},"/api/v1/user/getUsers":{"get":{"tags":["Users"],"security":[{"bearerAuth":[]}],"description":"Listar usuarios","produces":["application/json"],"responses":{"200":{"description":"Petición exitosa","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/definitions/User"}},"example":{"state":true,"message":"Listado de estudiantes","users":[{"firstName":"pepito","secondName":"Pepe","surname":"Perez","secondSurName":"Perez","typeDocument":1,"documentNumber":"1123000001","email":"pepe@gmail.com","phone":"32123122314"},{"firstName":"Juanita","secondName":"","surname":"Perez","secondSurName":"Perez","typeDocument":1,"documentNumber":"11012000161","email":"JuanitaP@gmail.com","phone":"32123122314"}]}}}},"400":{"description":"Petición fallida","content":{"application/json":{"schema":{"type":"object","properties":{"state":{"type":"boolean","description":"Estado de la petición"},"message":{"type":"string","description":"Mensaje de error"}}},"example":{"state":false,"message":"Fallo en el listado de estudiantes"}}}}}}},"/api/v1/login":{"post":{"tags":["Users"],"security":[],"description":"Iniciar sesión","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/login"}}}},"responses":{"200":{"description":"Petición exitosa","content":{"application/json":{"schema":{"$ref":"#/definitions/User"},"example":{"state":true,"id":8,"name":"David Alejandro Sepulveda Amaya","role":"admin","message":"Ingreso exitoso","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImRhX2FsZWphbmRyb0BnbWFpbC5jb20iLCJpZCI6OCwiaWF0IjoxNjc5Mzc2NDgyLCJleHAiOjE2NzkzNzgyODJ9.bT_QYGsfRKQNRBv-QT-F6MLU5kdwFbz67ygTng67PSU"}}}},"400":{"description":"Petición fallida","content":{"application/json":{"schema":{"state":{"type":"boolean"},"message":{"type":"string"}},"example":{"state":false,"message":"constraseña o email invalido "}}}}}}},"/api/v1/user/update/{id}":{"put":{"tags":["Users"],"security":[{"bearerAuth":[]}],"description":"Actualizar usuario","produces":["application/json"],"parameters":[{"name":"id","in":"path","description":"id del usuario","required":true,"type":"number"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/userUpdate"}}}},"responses":{"200":{"description":"Petición exitosa","content":{"application/json":{"schema":{"$ref":"#/definitions/User"},"example":{"state":true,"message":"Se actualizo correctamente"}}}},"400":{"description":"Petición fallida","content":{"application/json":{"example":{"state":false,"message":"Error al actualizar"}}}}}}}},"definitions":{"Answer":{"type":"object","properties":{"id":{"type":"number","description":"id de la respuesta"},"idQuestion":{"type":"number","description":"id de la pregunta"},"answer":{"type":"number","description":"contenido de la respuesta"},"is_correct":{"type":"boolean","description":"valor de la respuesta correcta o incorrecta"},"state":{"type":"boolean","description":"Estado de la respuesta"}}},"Form":{"type":"object","properties":{"id":{"type":"number","description":"id del formulario"},"student_id":{"type":"number","description":"id del estudiante"},"answer_id":{"type":"number","description":"id de la respuesta"},"state":{"type":"boolean","description":"estado del formulario"}}},"Question":{"type":"object","properties":{"name":{"type":"string","description":"Nombre de la pregunta"},"state":{"type":"boolean","description":"Estado de la pregunta"}}},"Rol":{"type":"object","properties":{"id":{"type":"number","description":"id del rol"},"name":{"type":"string","description":"nombre del rol"},"state":{"type":"boolean","description":"Estado del rol"}}},"TypeDocument":{"type":"object","properties":{"id":{"type":"number","description":"id del tipo de documento"},"name":{"type":"string","description":"nombre del tipo de documento"},"state":{"type":"boolean","description":"Estado del tipo de documento"}}},"User":{"type":"object","properties":{"firstName":{"type":"string"},"secondName":{"type":"string"},"surname":{"type":"string"},"secondSurName":{"type":"string"},"typeDocument":{"type":"number"},"documentNumber":{"type":"string"},"email":{"type":"string"},"phone":{"type":"string"},"role":{"type":"number"},"password":{"type":"string"},"state":{"type":"boolean"}}}},"tags":[]}